cscope 15 $HOME/Desktop/hao_dance/hw4 -q 0000000409 0000025965
	@src/cmd/cmdCharDef.h

8 #iâdeà
CMD_CHAR_DEF_H


9 
	#CMD_CHAR_DEF_H


	)

11 
	~<şim™s
>

15 
	#TA_LINE_BEGIN_KEY
 1

	)

16 
	#TA_LINE_END_KEY
 5

	)

17 
	#TA_INPUT_END_KEY
 4

	)

18 
	#TA_TAB_KEY
 ('\t')

	)

19 
	#TA_NEWLINE_KEY
 ('\n')

	)

20 
	#TA_ESC_KEY
 27

	)

21 
	#TA_BACK_SPACE_KEY
 127

	)

22 
	#TA_ARROW_KEY_FLAG
 (1 << 8)

	)

23 
	#TA_ARROW_KEY_INT
 91

	)

24 
	#TA_ARROW_UP_KEY
 (65 + 
TA_ARROW_KEY_FLAG
)

	)

25 
	#TA_ARROW_DOWN_KEY
 (66 + 
TA_ARROW_KEY_FLAG
)

	)

26 
	#TA_ARROW_RIGHT_KEY
 (67 + 
TA_ARROW_KEY_FLAG
)

	)

27 
	#TA_ARROW_LEFT_KEY
 (68 + 
TA_ARROW_KEY_FLAG
)

	)

28 
	#TA_ARROW_KEY_BEGIN
 
TA_ARROW_UP_KEY


	)

29 
	#TA_ARROW_KEY_END
 
TA_ARROW_LEFT_KEY


	)

30 
	#TA_MOD_KEY_FLAG
 (1 << 9)

	)

31 
	#TA_MOD_KEY_INT
 91

	)

32 
	#TA_HOME_KEY
 (49 + 
TA_MOD_KEY_FLAG
)

	)

33 
	#TA_INSERT_KEY
 (50 + 
TA_MOD_KEY_FLAG
)

	)

34 
	#TA_DELETE_KEY
 (51 + 
TA_MOD_KEY_FLAG
)

	)

35 
	#TA_END_KEY
 (52 + 
TA_MOD_KEY_FLAG
)

	)

36 
	#TA_PG_UP_KEY
 (53 + 
TA_MOD_KEY_FLAG
)

	)

37 
	#TA_PG_DOWN_KEY
 (54 + 
TA_MOD_KEY_FLAG
)

	)

38 
	#TA_MOD_KEY_BEGIN
 
TA_HOME_KEY


	)

39 
	#TA_MOD_KEY_END
 
TA_PG_DOWN_KEY


	)

40 
	#TA_MOD_KEY_DUMMY
 126

	)

41 
	#TA_UNDEFINED_KEY
 
INT_MAX


	)

42 
	#TA_BEEP_CHAR
 7

	)

43 
	#TA_BACK_SPACE_CHAR
 8

	)

46 #iâdeà
TA_KB_SETTING


55 
	eP¬£Ch¬


59 
	mLINE_BEGIN_KEY
 = 1,

60 
	mLINE_END_KEY
 = 5,

61 
	mINPUT_END_KEY
 = 4,

62 
	mTAB_KEY
 = ('\t'),

63 
	mNEWLINE_KEY
 = ('\n'),

64 
	mESC_KEY
 = 27,

79 
	mBACK_SPACE_KEY
 = 127,

83 
	mARROW_KEY_FLAG
 = 1 << 8,

84 
	mARROW_KEY_INT
 = 91,

85 
	mARROW_UP_KEY
 = 65 + 
ARROW_KEY_FLAG
,

86 
	mARROW_DOWN_KEY
 = 66 + 
ARROW_KEY_FLAG
,

87 
	mARROW_RIGHT_KEY
 = 67 + 
ARROW_KEY_FLAG
,

88 
	mARROW_LEFT_KEY
 = 68 + 
ARROW_KEY_FLAG
,

89 
	mARROW_KEY_BEGIN
 = 
ARROW_UP_KEY
,

90 
	mARROW_KEY_END
 = 
ARROW_LEFT_KEY
,

96 
	mMOD_KEY_FLAG
 = 1 << 9,

97 
	mMOD_KEY_INT
 = 91,

98 
	mHOME_KEY
 = 49 + 
MOD_KEY_FLAG
,

99 
	mINSERT_KEY
 = 50 + 
MOD_KEY_FLAG
,

100 
	mDELETE_KEY
 = 51 + 
MOD_KEY_FLAG
,

101 
	mEND_KEY
 = 52 + 
MOD_KEY_FLAG
,

102 
	mPG_UP_KEY
 = 53 + 
MOD_KEY_FLAG
,

103 
	mPG_DOWN_KEY
 = 54 + 
MOD_KEY_FLAG
,

104 
	mMOD_KEY_BEGIN
 = 
HOME_KEY
,

105 
	mMOD_KEY_END
 = 
PG_DOWN_KEY
,

106 
	mMOD_KEY_DUMMY
 = 126,

110 
	mUNDEFINED_KEY
 = 
INT_MAX
,

113 
	mBEEP_CHAR
 = 7,

114 
	mBACK_SPACE_CHAR
 = 8,

117 
	mPARSE_CHAR_END


127 
	eP¬£Ch¬


131 
	mLINE_BEGIN_KEY
 = 
TA_LINE_BEGIN_KEY
,

132 
	mLINE_END_KEY
 = 
TA_LINE_END_KEY
,

133 
	mINPUT_END_KEY
 = 
TA_INPUT_END_KEY
,

134 
	mTAB_KEY
 = 
TA_TAB_KEY
,

135 
	mNEWLINE_KEY
 = 
TA_NEWLINE_KEY
,

136 
	mESC_KEY
 = 
TA_ESC_KEY
,

151 
	mBACK_SPACE_KEY
 = 
TA_BACK_SPACE_KEY
,

155 
	mARROW_KEY_FLAG
 = 
TA_ARROW_KEY_FLAG
,

156 
	mARROW_KEY_INT
 = 
TA_ARROW_KEY_INT
,

157 
	mARROW_UP_KEY
 = 
TA_ARROW_UP_KEY
,

158 
	mARROW_DOWN_KEY
 = 
TA_ARROW_DOWN_KEY
,

159 
	mARROW_RIGHT_KEY
 = 
TA_ARROW_RIGHT_KEY
,

160 
	mARROW_LEFT_KEY
 = 
TA_ARROW_LEFT_KEY
,

161 
	mARROW_KEY_BEGIN
 = 
TA_ARROW_KEY_BEGIN
,

162 
	mARROW_KEY_END
 = 
TA_ARROW_KEY_END
,

168 
	mMOD_KEY_FLAG
 = 
TA_MOD_KEY_FLAG
,

169 
	mMOD_KEY_INT
 = 
TA_MOD_KEY_INT
,

170 
	mHOME_KEY
 = 
TA_HOME_KEY
,

171 
	mINSERT_KEY
 = 
TA_INSERT_KEY
,

172 
	mDELETE_KEY
 = 
TA_DELETE_KEY
,

173 
	mEND_KEY
 = 
TA_END_KEY
,

174 
	mPG_UP_KEY
 = 
TA_PG_UP_KEY
,

175 
	mPG_DOWN_KEY
 = 
TA_PG_DOWN_KEY
,

176 
	mMOD_KEY_BEGIN
 = 
TA_MOD_KEY_BEGIN
,

177 
	mMOD_KEY_END
 = 
TA_MOD_KEY_END
,

178 
	mMOD_KEY_DUMMY
 = 
TA_MOD_KEY_DUMMY
,

182 
	mUNDEFINED_KEY
 = 
TA_UNDEFINED_KEY
,

185 
	mBEEP_CHAR
 = 
TA_BEEP_CHAR
,

186 
	mBACK_SPACE_CHAR
 = 
TA_BACK_SPACE_CHAR
,

189 
	mPARSE_CHAR_END


	@src/cmd/cmdParser.h

8 #iâdeà
CMD_PARSER_H


9 
	#CMD_PARSER_H


	)

11 
	~<io¡»am
>

12 
	~<f¡»am
>

13 
	~<¡ršg
>

14 
	~<veùÜ
>

15 
	~<m­
>

16 
	~<¡ack
>

18 
	~"cmdCh¬Def.h
"

20 
usšg
 
Çme¥aû
 
	g¡d
;

26 
şass
 
	gCmdExec
;

27 
şass
 
	gCmdP¬£r
;

33 
CmdP¬£r
* 
cmdMgr
;

39 
	eCmdExecStus


41 
	mCMD_EXEC_DONE
 = 0,

42 
	mCMD_EXEC_ERROR
 = 1,

43 
	mCMD_EXEC_QUIT
 = 2,

44 
	mCMD_EXEC_NOP
 = 3,

47 
	mCMD_EXEC_TOT


50 
	eCmdO±iÚE¼Ü


52 
	mCMD_OPT_MISSING
 = 0,

53 
	mCMD_OPT_EXTRA
 = 1,

54 
	mCMD_OPT_ILLEGAL
 = 2,

55 
	mCMD_OPT_FOPEN_FAIL
 = 3,

58 
	mCMD_OPT_ERROR_TOT


66 şas 
	cCmdExec


68 
	mpublic
:

69 
	$CmdExec
() {}

70 
vœtu®
 ~
	$CmdExec
(è{
	}
}

72 
vœtu®
 
CmdExecStus
 
exec
(cÚ¡ 
¡ršg
&) = 0;

73 
vœtu®
 
	$u§ge
(
o¡»am
&) const = 0;

74 
vœtu®
 
	$h–p
() const = 0;

76 
	$£tO±Cmd
(cÚ¡ 
¡ršg
& 
¡r
è{ 
_İtCmd
 = sŒ; 
	}
}

77 
boŞ
 
	$checkO±Cmd
(cÚ¡ 
¡ršg
& 
check
) const;

78 cÚ¡ 
¡ršg
& 
	$g‘O±Cmd
(ècÚ¡ {  
_İtCmd
; 
	}
}

80 
	g´Ùeùed
:

81 
boŞ
 
	$ËxSšgËO±iÚ
(cÚ¡ 
¡ršg
&, sŒšg&, 
boŞ
 
İtiÚ®
 = 
Œue
) const;

82 
boŞ
 
	`ËxO±iÚs
(cÚ¡ 
¡ršg
&, 
veùÜ
<¡ršg>&, 
size_t
 
nO±s
 = 0) const;

83 
CmdExecStus
 
	$”rÜO±iÚ
(
CmdO±iÚE¼Ü
 
”r
, cÚ¡ 
¡ršg
& 
İt
) const;

85 
´iv©e
:

86 
¡ršg
 
_İtCmd
;

87 
	}
};

89 
	#CmdCÏss
(
T
) \

90 
şass
 
T
: 
public
 
CmdExec
 \

92 
public
: \

93 
	`T
() {} \

94 ~
	`T
() {} \

95 
CmdExecStus
 
	`exec
(cÚ¡ 
¡ršg
& 
İtiÚ
); \

96 
	`u§ge
(
o¡»am
& 
os
) const; \

97 
	`h–p
() const; \

98 }

	)

105 şas 
	cCmdP¬£r


107 
	#READ_BUF_SIZE
 65536

	)

108 
	#PG_OFFSET
 10

	)

110 
	mm­
<cÚ¡ 
	t¡ršg
, 
	tCmdExec
*> 
	tCmdM­
;

111 
	m·œ
<cÚ¡ 
	t¡ršg
, 
	tCmdExec
*> 
	tCmdRegPaœ
;

113 
	mpublic
:

114 
	$CmdP¬£r
(cÚ¡ 
¡ršg
& 
p
è: 
	`_´om±
Õ), 
	`_dofe
(0),

115 
	`_»adBufPŒ
(
_»adBuf
), 
	`_»adBufEnd
(_readBuf),

116 
	`_hi¡ÜyIdx
(0), 
	`_bP»ssCouÁ
(0), 
	$_‹mpCmdStÜed
(
çl£
) {}

117 
vœtu®
 ~
	$CmdP¬£r
(è{
	}
}

119 
boŞ
 
İ’Dofe
(cÚ¡ 
¡ršg
& 
dof
);

120 
şo£Dofe
();

122 
boŞ
 
»gCmd
(cÚ¡ 
¡ršg
&, , 
CmdExec
*);

123 
CmdExecStus
 
execOÃCmd
();

124 
	$´štH–ps
() const;

127 
	`´štHi¡Üy
(
nPršt
 = -1) const;

128 
CmdExec
* 
	`g‘Cmd
(
¡ršg
);

130 
´iv©e
:

132 
	$»£tBufAndPrštProm±
() {

133 
_»adBufPŒ
 = 
_»adBufEnd
 = 
_»adBuf
;

134 *
_»adBufPŒ
 = 0;

135 
_bP»ssCouÁ
 = 0;

136 
	`´štProm±
();

137 
	}
}

138 
P¬£Ch¬
 
	$g‘Ch¬
(
i¡»am
&) const;

139 
boŞ
 
	`»adCmd
(
i¡»am
&);

140 
CmdExec
* 
	`·r£Cmd
(
¡ršg
&);

141 
	`li¡Cmd
(cÚ¡ 
¡ršg
&);

142 
boŞ
 
	`li¡CmdDœ
(cÚ¡ 
¡ršg
&);

143 
	$´štProm±
(ècÚ¡ { 
cout
 << 
_´om±
; 
	}
}

144 
boŞ
 
pushDofe
();

145 
boŞ
 
pİDofe
();

148 
boŞ
 
moveBufPŒ
(* const);

149 
boŞ
 
d–‘eCh¬
();

150 
š£¹Ch¬
(, = 1);

151 
d–‘eLše
();

152 
»´štCmd
();

153 
moveToHi¡Üy
(
šdex
);

154 
boŞ
 
addHi¡Üy
();

155 
»Œ›veHi¡Üy
();

156 #ifdeà
TA_KB_SETTING


157 
	$Te¡OÆy
(è{
	}
}

161 cÚ¡ 
¡ršg
 
	g_´om±
;

162 
if¡»am
* 
	g_dofe
;

163 
	g_»adBuf
[
READ_BUF_SIZE
];

165 * 
	g_»adBufPŒ
;

167 * 
	g_»adBufEnd
;

169 
	gveùÜ
<
	g¡ršg
> 
	g_hi¡Üy
;

170 
	g_hi¡ÜyIdx
;

174 
size_t
 
	g_bP»ssCouÁ
;

175 
boŞ
 
	g_‹mpCmdStÜed
;

179 
CmdM­
 
	g_cmdM­
;

180 
	g¡ack
<
	gif¡»am
*> 
	g_dofeSck
;

	@src/main/main.cpp

8 
	~<c¡dlib
>

9 
	~"ut.h
"

10 
	~"cmdP¬£r.h
"

12 
usšg
 
Çme¥aû
 
	g¡d
;

17 
CmdP¬£r
* 
	gcmdMgr
 = 
Ãw
 CmdParser("mtest> ");

19 
boŞ
 
š™CommÚCmd
();

20 
boŞ
 
š™MemCmd
();

23 
	$u§ge
()

25 
cout
 << "U§ge: memTe¡ [ -F< doF> ]" << 
’dl
;

26 
	}
}

29 
	$myex™
()

31 
	`u§ge
();

32 
	`ex™
(-1);

33 
	}
}

36 
	$maš
(
¬gc
, ** 
¬gv
)

38 
myU§ge
.
	`»£t
();

40 
if¡»am
 
dof
;

42 ià(
¬gc
 == 3) {

43 ià(
	`mySŒNCmp
("-Fe", 
¬gv
[1], 2) == 0) {

44 ià(!
cmdMgr
->
	`İ’Dofe
(
¬gv
[2])) {

45 
û¼
 << "E¼Ü: cªnÙ o³Àf\"" << 
¬gv
[2] << "\"!!\n";

46 
	`myex™
();

50 
û¼
 << "E¼Ü: unknowÀ¬gum’ˆ\"" << 
¬gv
[1] << "\"!!\n";

51 
	`myex™
();

54 ià(
¬gc
 != 1) {

55 
û¼
 << "E¼Ü: iÎeg®‚umb” oà¬gum’ˆ(" << 
¬gc
 << ")!!\n";

56 
	`myex™
();

59 ià(!
	`š™CommÚCmd
(è|| !
	`š™MemCmd
())

62 
CmdExecStus
 
¡©us
 = 
CMD_EXEC_DONE
;

63 
¡©us
 !ğ
CMD_EXEC_QUIT
) {

64 
¡©us
 = 
cmdMgr
->
	`execOÃCmd
();

65 
cout
 << 
’dl
;

69 
	}
}

	@src/mem/memCmd.cpp

8 
	~<io¡»am
>

9 
	~<iomª
>

10 
	~"memCmd.h
"

11 
	~"memTe¡.h
"

12 
	~"cmdP¬£r.h
"

13 
	~"ut.h
"

15 
usšg
 
Çme¥aû
 
	g¡d
;

17 
MemTe¡
 
m‹¡
;

19 
boŞ


20 
	$š™MemCmd
()

22 ià(!(
cmdMgr
->
	`»gCmd
("MTRe£t", 3, 
Ãw
 
MTRe£tCmd
) &&

23 
cmdMgr
->
	`»gCmd
("MTNew", 3, 
Ãw
 
MTNewCmd
) &&

24 
cmdMgr
->
	`»gCmd
("MTD–‘e", 3, 
Ãw
 
MTD–‘eCmd
) &&

25 
cmdMgr
->
	`»gCmd
("MTPršt", 3, 
Ãw
 
MTPrštCmd
)

27 
û¼
 << "Regi¡”šg \"mem\" commªd çs...ƒx™šg" << 
’dl
;

28  
çl£
;

30  
Œue
;

31 
	}
}

37 
CmdExecStus


38 
	gMTRe£tCmd
::
	$exec
(cÚ¡ 
¡ršg
& 
İtiÚ
)

41 
¡ršg
 
tok’
;

42 ià(!
CmdExec
::
	`ËxSšgËO±iÚ
(
İtiÚ
, 
tok’
))

43  
CMD_EXEC_ERROR
;

44 ià(
tok’
.
	`size
()) {

45 
b
;

46 ià(!
	`mySŒ2IÁ
(
tok’
, 
b
è|| b < (
	`toSizeT
((
MemTe¡Obj
)))) {

47 
û¼
 << "IÎeg® block siz(" << 
tok’
 << ")!!" << 
’dl
;

48  
CmdExec
::
	`”rÜO±iÚ
(
CMD_OPT_ILLEGAL
, 
tok’
);

50 #ifdeà
MEM_MGR_H


51 
m‹¡
.
	`»£t
(
	`toSizeT
(
b
));

53 
m‹¡
.
	`»£t
();

57 
m‹¡
.
	`»£t
();

58  
CMD_EXEC_DONE
;

59 
	}
}

62 
	gMTRe£tCmd
::
	$u§ge
(
o¡»am
& 
os
) const

64 
os
 << "U§ge: MTRe£ˆ[(size_ˆblockSize)]" << 
’dl
;

65 
	}
}

68 
	gMTRe£tCmd
::
	$h–p
() const

70 
cout
 << 
	`£tw
(15è<< 
Ëá
 << "MTReset: "

71 << "(memÜye¡è»£ˆmemÜy mªag”" << 
’dl
;

72 
	}
}

78 
CmdExecStus


79 
	gMTNewCmd
::
	$exec
(cÚ¡ 
¡ršg
& 
İtiÚ
)

84  
CMD_EXEC_DONE
;

85 
	}
}

88 
	gMTNewCmd
::
	$u§ge
(
o¡»am
& 
os
) const

90 
os
 << "Usage: MTNew <(size_t‚umObjects)> [-Array (size_t‡rraySize)]\n";

91 
	}
}

94 
	gMTNewCmd
::
	$h–p
() const

96 
cout
 << 
	`£tw
(15è<< 
Ëá
 << "MTNew: "

97 << "(memÜye¡èÃw objeùs" << 
’dl
;

98 
	}
}

104 
CmdExecStus


105 
	gMTD–‘eCmd
::
	$exec
(cÚ¡ 
¡ršg
& 
İtiÚ
)

109  
CMD_EXEC_DONE
;

110 
	}
}

113 
	gMTD–‘eCmd
::
	$u§ge
(
o¡»am
& 
os
) const

115 
os
 << "Usage: MTDelete <-Index (size_t objId) | "

116 << "-Rªdom (size_ˆnumRªdId)> [-A¼ay]" << 
’dl
;

117 
	}
}

120 
	gMTD–‘eCmd
::
	$h–p
() const

122 
cout
 << 
	`£tw
(15è<< 
Ëá
 << "MTDelete: "

123 << "(memÜye¡èd–‘objeùs" << 
’dl
;

124 
	}
}

130 
CmdExecStus


131 
	gMTPrštCmd
::
	$exec
(cÚ¡ 
¡ršg
& 
İtiÚ
)

134 ià(
İtiÚ
.
	`size
())

135  
CmdExec
::
	`”rÜO±iÚ
(
CMD_OPT_EXTRA
, 
İtiÚ
);

136 
m‹¡
.
	`´št
();

138  
CMD_EXEC_DONE
;

139 
	}
}

142 
	gMTPrštCmd
::
	$u§ge
(
o¡»am
& 
os
) const

144 
os
 << "U§ge: MTPršt" << 
’dl
;

145 
	}
}

148 
	gMTPrštCmd
::
	$h–p
() const

150 
cout
 << 
	`£tw
(15è<< 
Ëá
 << "MTPrint: "

151 << "(memÜye¡è´šˆmemÜy mªag” info" << 
’dl
;

152 
	}
}

	@src/mem/memCmd.h

8 #iâdeà
MEM_CMD_H


9 
	#MEM_CMD_H


	)

11 
	~"cmdP¬£r.h
"

13 
CmdCÏss
(
MTRe£tCmd
);

14 
CmdCÏss
(
MTNewCmd
);

15 
CmdCÏss
(
MTD–‘eCmd
);

16 
CmdCÏss
(
MTPrštCmd
);

	@src/mem/memMgr.h

9 #iâdeà
MEM_MGR_H


10 
	#MEM_MGR_H


	)

12 
	~<ÿs£¹
>

13 
	~<io¡»am
>

14 
	~<iomª
>

15 
	~<¡dlib.h
>

17 
usšg
 
Çme¥aû
 
	g¡d
;

25 
	#MEM_MGR_INIT
(
T
) \

26 
MemMgr
<
T
>* cÚ¡ T::
_memMgr
 = 
Ãw
 MemMgr<T>

	)

28 
	#USE_MEM_MGR
(
T
) \

29 
public
: \

30 * 
İ”©Ü
 
	`Ãw
(
size_t
 
t
è{  (*)(
_memMgr
->
	`®loc
(t)); } \

31 * 
İ”©Ü
 
Ãw
[](
size_t
 
t
è{  (*)(
_memMgr
->
	`®locA¼
(t)); } \

32 
İ”©Ü
 
	`d–‘e
(* 
p
è{ 
_memMgr
->
	`ä“
((
T
*)p); } \

33 
İ”©Ü
 
d–‘e
[](* 
p
è{ 
_memMgr
->
	`ä“A¼
((
T
*)p); } \

34 
	`memRe£t
(
size_t
 
b
 = 0è{ 
_memMgr
->
	`»£t
(b); } \

35 
	`memPršt
(è{ 
_memMgr
->
	`´št
(); } \

36 
´iv©e
: \

37 
MemMgr
<
T
>* cÚ¡ 
_memMgr


	)

43 
	#SIZE_T
 (
size_t
)

	)

44 
	#SIZE_T_1
 ((
size_t
è- 1)

	)

50 
	#toSizeT
(
t
è(Ñè+ (
SIZE_T
) - ((t) % (SIZE_T)))

54 
	#dowÁoSizeT
(
t
è(Ñè- (Ñè% (
SIZE_T
)))

55 

	)

57 
	#R_SIZE
 256

	)

62 
	g‹m¶©e
 <
şass
 
	gT
> cÏs 
	gMemMgr
;

73 
	g‹m¶©e
 <
şass
 
	gT
>

74 şas 
	cMemBlock


76 
ä›nd
 
şass
 
	mMemMgr
<
	mT
>;

79 
MemBlock
(MemBlock<
T
>* 
n
, 
size_t
 
b
è: 
	$_ÃxtBlock
(
n
) {

80 
_begš
 = 
_±r
 = 
Ãw
 [
b
]; 
_’d
 = _begin + b; }

81 ~
	$MemBlock
(è{ 
d–‘e
 [] 
_begš
; 
	}
}

84 
	$»£t
(è{ 
_±r
 = 
_begš
; 
	}
}

90 
boŞ
 
	$g‘Mem
(
size_t
 
t
, 
T
*& 
»t
) {

92 
t
 = 
	`toSizeT
(t);

93 if((
_’d
-
_±r
)/(è< 
t
è 
çl£
;

95 
»t
 = 
_±r
;

96 
_±r
 +ğ
t
;

97  
Œue
;

98 
	}
}

99 
size_t
 
	$g‘RemašSize
(ècÚ¡ {  
	`size_t
(
_’d
 - 
_±r
); 
	}
}

101 
	gMemBlock
<
	gT
>* 
	$g‘NextBlock
(ècÚ¡ {  
_ÃxtBlock
; 
	}
}

104 * 
	g_begš
;

105 * 
	g_±r
;

106 * 
	g_’d
;

107 
	gMemBlock
<
	gT
>* 
	g_ÃxtBlock
;

113 
	g‹m¶©e
 <
şass
 
	gT
>

114 şas 
	cMemRecyşeLi¡


116 
ä›nd
 
şass
 
	mMemMgr
<
	mT
>;

119 
	$MemRecyşeLi¡
(
size_t
 
a
 = 0è: 
	`_¬rSize
×), 
	`_fœ¡
(0), 
	$_ÃxtLi¡
(0) {}

120 ~
	$MemRecyşeLi¡
(è{ 
	`»£t
(); 
	}
}

124 
size_t
 
	$g‘A¼Size
(ècÚ¡ {  
_¬rSize
; 
	}
}

125 
	gMemRecyşeLi¡
<
	gT
>* 
	$g‘NextLi¡
(ècÚ¡ {  
_ÃxtLi¡
; 
	}
}

126 
£tNextLi¡
(
MemRecyşeLi¡
<
T
>* 
l
è{ 
	g_ÃxtLi¡
 =†; }

129 
T
* 
	$pİFrÚt
() {

131 
T
* 
tmp
 = 
_fœ¡
;

132 
_fœ¡
 = *((
size_t
*)_first);

133  
tmp
;

134 
	}
}

136 
	$pushFrÚt
(
T
* 
p
) {

138 *(
size_t
*)
p
 = (size_t)
_fœ¡
;

139 
_fœ¡
 = 
p
;

140 
	}
}

143 
	$»£t
() {

145 if(
_ÃxtLi¡
->
_¬rSize
 >= 256){

146 
d–‘e
 
_ÃxtLi¡
;

148 
	}
}

153 
size_t
 
	$numElm
() const {

155 
size_t
 
num
 = 0;

156 
T
* 
±
 = 
_fœ¡
;

157 
±
 != 0){

158 
num
++;

159 
±
 -ğ
SIZE_T
/(
T
);

161  
num
;

162 
	}
}

165 
size_t
 
	g_¬rSize
;

166 
T
* 
	g_fœ¡
;

167 
	gMemRecyşeLi¡
<
	gT
>* 
	g_ÃxtLi¡
;

171 
	g‹m¶©e
 <
şass
 
	gT
>

172 şas 
	cMemMgr


174 
	#S
 (
T
)

	)

176 
public
:

177 
	$MemMgr
(
size_t
 
b
 = 65536è: 
	$_blockSize
(
b
) {

178 
	`as£¹
(
b
 % 
SIZE_T
 == 0);

179 
_aùiveBlock
 = 
Ãw
 
MemBlock
<
T
>(0, 
_blockSize
);

180 
i
 = 0; i < 
R_SIZE
; ++i)

181 
_»cyşeLi¡
[
i
].
_¬rSize
 = i;

183 ~
	$MemMgr
(è{ 
	`»£t
(); 
d–‘e
 
_aùiveBlock
; 
	}
}

192 
	$»£t
(
size_t
 
b
 = 0) {

193 
	`as£¹
(
b
 % 
SIZE_T
 == 0);

194 #ifdeà
MEM_DEBUG


195 
cout
 << "Re£‰šg memMgr...(" << 
b
 << ")" << 
’dl
;

198 
_aùiveBlock
->
_ÃxtBlock
 != 0){

199 
MemBlock
<
T
>* 
tmp
 = 
_aùiveBlock
;

200 
_aùiveBlock
 = _aùiveBlock->
_ÃxtBlock
;

201 
d–‘e
 
tmp
;

203 
_aùiveBlock
->
	`»£t
();

205 
i
=0; i<
R_SIZE
; ++i){

206 
_»cyşeLi¡
[
i
].
	`»£t
();

207 
_»cyşeLi¡
[
i
].
_fœ¡
 = 0;

208 
_»cyşeLi¡
[
i
].
_ÃxtLi¡
 = 0;

211 ifĞ
b
 !ğ0 && b !ğ
_blockSize
){

212 
d–‘e
 
_aùiveBlock
;

213 
_aùiveBlock
 = 
Ãw
 
MemBlock
<
T
>(0, 
b
);

215 
	}
}

217 
T
* 
	$®loc
(
size_t
 
t
) {

218 
	`as£¹
(
t
 =ğ
S
);

219 #ifdeà
MEM_DEBUG


220 
cout
 << "C®lšg‡Îoc...(" << 
t
 << ")" << 
’dl
;

222  
	`g‘Mem
(
t
);

223 
	}
}

225 
T
* 
	$®locA¼
(
size_t
 
t
) {

226 #ifdeà
MEM_DEBUG


227 
cout
 << "C®lšg‡ÎocA¼...(" << 
t
 << ")" << 
’dl
;

230  
	`g‘Mem
(
t
);

231 
	}
}

233 
	$ä“
(
T
* 
p
) {

234 #ifdeà
MEM_DEBUG


235 
cout
 << "C®lšg f»e...(" << 
p
 << ")" << 
’dl
;

237 
	`g‘MemRecyşeLi¡
(0)->
	`pushFrÚt
(
p
);

238 
	}
}

240 
	$ä“A¼
(
T
* 
p
) {

241 #ifdeà
MEM_DEBUG


242 
cout
 << "C®lšg f»eA¼...(" << 
p
 << ")" << 
’dl
;

247 
size_t
 
n
 = 0;

248 
n
 = (
size_t
)
p
;

249 #ifdeà
MEM_DEBUG


250 
cout
 << ">> A¼ay sizğ" << 
n
 << 
’dl
;

251 
cout
 << "Recyşšg " << 
p
 << "Ø_»cyşeLi¡[" << 
n
 << "]" << 
’dl
;

254 
	`g‘MemRecyşeLi¡
(
n
)->
	`pushFrÚt
(
p
);

255 
	}
}

256 
	$´št
() const {

257 
cout
 << "=========================================" << 
’dl


258 << "ğ MemÜy Mªag” =" << 
’dl


259 << "=========================================" << 
’dl


260 << "* Block siz : " << 
_blockSize
 << " By‹s" << 
’dl


261 << "* Numb” oàblock  : " << 
	`g‘NumBlocks
(è<< 
’dl


262 << "* F»mem iÀÏ¡ block: " << 
_aùiveBlock
->
	`g‘RemašSize
()

263 << 
’dl


264 << "* Recyşli¡ : " << 
’dl
;

265 
i
 = 0, 
couÁ
 = 0;

266 
i
 < 
R_SIZE
) {

267 cÚ¡ 
MemRecyşeLi¡
<
T
>* 
Î
 = &(
_»cyşeLi¡
[
i
]);

268 
Î
 != 0) {

269 
size_t
 
s
 = 
Î
->
	`numElm
();

270 ià(
s
) {

271 
cout
 << "[" << 
	`£tw
(3è<< 
right
 << 
Î
->
_¬rSize
 << "] = "

272 << 
	`£tw
(10è<< 
Ëá
 << 
s
;

273 ià(++
couÁ
 % 4 =ğ0è
cout
 << 
’dl
;

275 
Î
 =†l->
_ÃxtLi¡
;

277 ++
i
;

279 
cout
 << 
’dl
;

280 
	}
}

282 
	g´iv©e
:

283 
size_t
 
_blockSize
;

284 
	gMemBlock
<
	gT
>* 
	g_aùiveBlock
;

285 
	gMemRecyşeLi¡
<
	gT
> 
	g_»cyşeLi¡
[
R_SIZE
];

295 
size_t
 
	$g‘A¼aySize
(
size_t
 
t
) const {

296 
	`as£¹
(
t
 % 
SIZE_T
 == 0);

297 
	`as£¹
(
t
 >ğ
S
);

299 
size_t
 
size
 = 0;

300 
size
 = 
t
 / 
S
;

301  
size
;

302 
	}
}

311 
	gMemRecyşeLi¡
<
	gT
>* 
	$g‘MemRecyşeLi¡
(
size_t
 
n
) {

312 
size_t
 
m
 = 
n
 % 
R_SIZE
;

315 
	}
}

318 
T
* 
	$g‘Mem
(
size_t
 
t
) {

319 
T
* 
»t
 = 0;

320 #ifdeà
MEM_DEBUG


321 
cout
 << "C®lšg MemMgr::g‘Mem...(" << 
t
 << ")" << 
’dl
;

324 
t
 = 
	`toSizeT
(t);

339 
size_t
 
n
 = 
	`g‘A¼aySize
(
t
);

358 #ifdeà
MEM_DEBUG


359 
cout
 << "MemÜy‡cquœed... " << 
»t
 << 
’dl
;

361  
»t
;

362 
	}
}

364 
size_t
 
	$g‘NumBlocks
() const {

367 
	}
}

	@src/mem/memTest.cpp

8 
	~"memTe¡.h
"

10 
usšg
 
Çme¥aû
 
	g¡d
;

12 #ifdeà
MEM_MGR_H


13 
MEM_MGR_INIT
(
MemTe¡Obj
);

16 
MemTe¡
 
	gm‹¡
;

	@src/mem/memTest.h

8 #iâdeà
MEM_TEST_H


9 
	#MEM_TEST_H


	)

11 
	~<io¡»am
>

12 
	~<veùÜ
>

13 
	~<ÿs£¹
>

14 
	~"memMgr.h
"

16 
usšg
 
Çme¥aû
 
	g¡d
;

23 şas 
	cMemTe¡Obj


25 
ä›nd
 
şass
 
	mMemTe¡
;

26 #ifdeà
MEM_MGR_H


27 
USE_MEM_MGR
(
MemTe¡Obj
);

30 
	mpublic
:

31 
	$MemTe¡Obj
() {}

32 
vœtu®
 ~
	$MemTe¡Obj
(è{
	}
}

34 
´iv©e
:

35 
_d©aSI
;

36 
	g_d©aI
[5];

37 
boŞ
 
	g_d©aB
;

38 
	g_d©aF
[3];

39 
	g_d©aC
;

43 şas 
	cMemTe¡


45 
	mpublic
:

46 
	$MemTe¡
(è{ 
_objLi¡
.
	`»£rve
(1024); 
_¬rLi¡
.reserve(1024); }

47 
vœtu®
 ~
	$MemTe¡
(è{
	}
}

49 
	$»£t
(
size_t
 
b
 = 0) {

50 
_objLi¡
.
	`ş—r
(); 
_¬rLi¡
.clear();

51 #ifdeà
MEM_MGR_H


52 
MemTe¡Obj
::
	`memRe£t
(
b
);

54 
	}
}

55 
size_t
 
	$g‘ObjLi¡Size
(ècÚ¡ {  
_objLi¡
.
	`size
(); 
	}
}

56 
size_t
 
	$g‘A¼Li¡Size
(ècÚ¡ {  
_¬rLi¡
.
	`size
(); 
	}
}

59 
	$ÃwObjs
(
size_t
 
n
) {

60 
size_t
 
i
 = 0; i < 
n
; ++i)

61 
_objLi¡
.
	`push_back
(
Ãw
 
MemTe¡Obj
);

62 
	}
}

64 
	$ÃwA¼s
(
size_t
 
n
, size_ˆ
s
) {

65 
size_t
 
i
 = 0; i < 
n
; ++i)

66 
_¬rLi¡
.
	`push_back
(
Ãw
 
MemTe¡Obj
[
s
]);

67 
	}
}

69 
	$d–‘eObj
(
size_t
 
idx
) {

70 
	`as£¹
(
idx
 < 
_objLi¡
.
	`size
());

71 ià(
_objLi¡
[
idx
] !ğ0è{ 
d–‘e
 _objList[idx]; _objList[idx] = 0; }

72 
	}
}

74 
	$d–‘eA¼
(
size_t
 
idx
) {

75 
	`as£¹
(
idx
 < 
_¬rLi¡
.
	`size
());

76 ià(
_¬rLi¡
[
idx
] !ğ0è{ 
d–‘e
[] _arrList[idx]; _arrList[idx] = 0; }

77 
	}
}

79 
	$´št
() const {

80 #ifdeà
MEM_MGR_H


81 
MemTe¡Obj
::
	`memPršt
();

83 
cout
 << "=========================================" << 
’dl


84 << "ğ cÏs MemTe¡ =" << 
’dl


85 << "=========================================" << 
’dl


86 << "Objeù†i¡ ---" << 
’dl
;

87 
size_t
 
i
 = 0;

88 
i
 < 
_objLi¡
.
	`size
()) {

89 
cout
 << (
_objLi¡
[
i
]? 'o' : 'x');

90 ià(++
i
 % 50 =ğ0è
cout
 << 
’dl
;

92 
cout
 << 
’dl
 << "Array†ist ---" <<ƒndl;

93 
i
 = 0;

94 
i
 < 
_¬rLi¡
.
	`size
()) {

95 
cout
 << (
_¬rLi¡
[
i
]? 'o' : 'x');

96 ià(++
i
 % 50 =ğ0è
cout
 << 
’dl
;

98 
cout
 << 
’dl
;

99 
	}
}

101 
	g´iv©e
:

102 
veùÜ
<
MemTe¡Obj
*> 
_objLi¡
;

103 
	gveùÜ
<
	gMemTe¡Obj
*> 
	g_¬rLi¡
;

	@src/util/myGetChar.cpp

8 
	~<io¡»am
>

9 
	~<‹rmios.h
>

10 
	~<¡dlib.h
>

11 
	~<ùy³.h
>

13 
usšg
 
Çme¥aû
 
	g¡d
;

18 
‹rmios
 
	g¡Üed_£‰šgs
;

20 
	$»£t_key´ess
()

22 
	`tc£‰r
(0,
TCSANOW
,&
¡Üed_£‰šgs
);

23 
	}
}

25 
	$£t_key´ess
()

27 
‹rmios
 
Ãw_£‰šgs
;

28 
	`tcg‘©Œ
(0,&
¡Üed_£‰šgs
);

29 
Ãw_£‰šgs
 = 
¡Üed_£‰šgs
;

30 
Ãw_£‰šgs
.
c_læag
 &ğ(~
ICANON
);

31 
Ãw_£‰šgs
.
c_læag
 &ğ(~
ECHO
);

32 
Ãw_£‰šgs
.
c_cc
[
VTIME
] = 0;

33 
	`tcg‘©Œ
(0,&
¡Üed_£‰šgs
);

34 
Ãw_£‰šgs
.
c_cc
[
VMIN
] = 1;

35 
	`tc£‰r
(0,
TCSANOW
,&
Ãw_£‰šgs
);

36 
	}
}

42 
	$myG‘Ch¬
(
i¡»am
& 
i¡r
)

44 
ch
;

45 
	`£t_key´ess
();

46 
i¡r
.
	`un£tf
(
ios_ba£
::
skws
);

47 
i¡r
 >> 
ch
;

48 
i¡r
.
	`£tf
(
ios_ba£
::
skws
);

49 
	`»£t_key´ess
();

50  
ch
;

51 
	}
}

53 
	$myG‘Ch¬
()

55  
	`myG‘Ch¬
(
cš
);

56 
	}
}

	@src/util/myString.cpp

8 
	~<¡ršg
>

9 
	~<ùy³.h
>

10 
	~<c¡ršg
>

11 
	~<ÿs£¹
>

13 
usšg
 
Çme¥aû
 
	g¡d
;

23 
	$mySŒNCmp
(cÚ¡ 
¡ršg
& 
s1
, cÚ¡ sŒšg& 
s2
, 
n
)

25 
	`as£¹
(
n
 > 0);

26 
n2
 = 
s2
.
	`size
();

27 ià(
n2
 == 0)  -1;

28 
n1
 = 
s1
.
	`size
();

29 
	`as£¹
(
n1
 >ğ
n
);

30 
i
 = 0; i < 
n1
; ++i) {

31 ià(
i
 =ğ
n2
)

32  (
i
 < 
n
)? 1 : 0;

33 
ch1
 = (
	`isuµ”
(
s1
[
i
]))? 
	`tŞow”
(s1[i]) : s1[i];

34 
ch2
 = (
	`isuµ”
(
s2
[
i
]))? 
	`tŞow”
(s2[i]) : s2[i];

35 ià(
ch1
 !ğ
ch2
)

36  (
ch1
 - 
ch2
);

38  (
n1
 - 
n2
);

39 
	}
}

47 
size_t


48 
mySŒG‘Tok
(cÚ¡ 
¡ršg
& 
¡r
, sŒšg& 
tok
, 
size_t
 
pos
 = 0,

49 cÚ¡ 
d–
 = ' ')

51 
size_t
 
begš
 = 
¡r
.
fšd_fœ¡_nÙ_of
(
d–
, 
pos
);

52 ià(
	gbegš
 =ğ
¡ršg
::
Åos
è{ 
tok
 = "";  begin; }

53 
size_t
 
	g’d
 = 
¡r
.
fšd_fœ¡_of
(
d–
, 
begš
);

54 
	gtok
 = 
¡r
.
sub¡r
(
begš
, 
’d
 - begin);

55  
	g’d
;

61 
boŞ


62 
	$mySŒ2IÁ
(cÚ¡ 
¡ršg
& 
¡r
, & 
num
)

64 
num
 = 0;

65 
size_t
 
i
 = 0;

66 
sign
 = 1;

67 ià(
¡r
[0] =ğ'-'è{ 
sign
 = -1; 
i
 = 1; }

68 
boŞ
 
v®id
 = 
çl£
;

69 ; 
i
 < 
¡r
.
	`size
(); ++i) {

70 ià(
	`isdig™
(
¡r
[
i
])) {

71 
num
 *= 10;

72 
num
 +ğ(
¡r
[
i
] - '0');

73 
v®id
 = 
Œue
;

75  
çl£
;

77 
num
 *ğ
sign
;

78  
v®id
;

79 
	}
}

85 
boŞ


86 
	$isV®idV¬Name
(cÚ¡ 
¡ršg
& 
¡r
)

88 
size_t
 
n
 = 
¡r
.
	`size
();

89 ià(
n
 =ğ0è 
çl£
;

90 ià(!
	`i§Íha
(
¡r
[0]) && str[0] != '_')

91  
çl£
;

92 
size_t
 
i
 = 1; i < 
n
; ++i)

93 ià(!
	`i§Êum
(
¡r
[
i
]) && str[i] != '_')

94  
çl£
;

95  
Œue
;

96 
	}
}

	@src/util/myUsage.h

9 #iâdeà
MY_USAGE_H


10 
	#MY_USAGE_H


	)

12 
	~<uni¡d.h
>

13 
	~<io¡»am
>

14 
	~<iomª
>

15 
	~<sys/times.h
>

16 
	~<sys/»sourû.h
>

18 
usšg
 
Çme¥aû
 
	g¡d
;

21 #undeà
MYCLK_TCK


22 
	#MYCLK_TCK
 
	`syscÚf
(
_SC_CLK_TCK
)

	)

25 şas 
	cMyU§ge


27 
	mpublic
:

28 
	$MyU§ge
(è{ 
	`»£t
(); }

30 
	$»£t
() {

31 
_š™Mem
 = 
	`checkMem
();

32 
_cu¼’tTick
 = 
	`checkTick
();

33 
_³riodU£dTime
 = 
_tÙ®U£dTime
 = 0.0;

34 
	}
}

36 
	$»pÜt
(
boŞ
 
»pTime
, boŞ 
»pMem
) {

37 ià(
»pTime
) {

38 
	`£tTimeU§ge
();

39 
cout
 << "P”iodimu£d : " << 
	`£»cisiÚ
(4)

40 << 
_³riodU£dTime
 << " secÚds" << 
’dl
;

41 
cout
 << "TÙ®imu£d : " << 
	`£»cisiÚ
(4)

42 << 
_tÙ®U£dTime
 << " secÚds" << 
’dl
;

44 ià(
»pMem
) {

45 
	`£tMemU§ge
();

46 
cout
 << "TÙ® memÜy u£d: " << 
	`£»cisiÚ
(4)

47 << 
_cu¼’tMem
 << " M By‹s" << 
’dl
;

49 
	}
}

51 
	g´iv©e
:

53 
_š™Mem
;

54 
	g_cu¼’tMem
;

57 
	g_cu¼’tTick
;

58 
	g_³riodU£dTime
;

59 
	g_tÙ®U£dTime
;

62 
	$checkMem
() const {

63 
ru§ge
 
u§ge
;

64 if(0 =ğ
	`g‘ru§ge
(
RUSAGE_SELF
, &
u§ge
))

65 #ifdeà
__APPLE__


66  
u§ge
.
ru_maxrss
/(1<<20);

68  
u§ge
.
ru_maxrss
/(1<<10);

72 
	}
}

73 
	$checkTick
() const {

74 
tms
 
tBufãr
;

75 
	`times
(&
tBufãr
);

76  
tBufãr
.
tms_utime
;

77 
	}
}

78 
	$£tMemU§ge
(è{ 
_cu¼’tMem
 = 
	`checkMem
(è- 
_š™Mem
; 
	}
}

79 
	$£tTimeU§ge
() {

80 
thisTick
 = 
	`checkTick
();

81 
_³riodU£dTime
 = (
thisTick
 - 
_cu¼’tTick
è/ (
MYCLK_TCK
);

82 
_tÙ®U£dTime
 +ğ
_³riodU£dTime
;

83 
_cu¼’tTick
 = 
thisTick
;

84 
	}
}

	@src/util/rnGen.h

8 #iâdeà
RN_GEN_H


9 
	#RN_GEN_H


	)

11 
	~<uni¡d.h
>

12 
	~<sys/ty³s.h
>

13 
	~<¡dlib.h
>

14 
	~<lim™s.h
>

16 
	#my_¤ªdom
 
¤ªdom


	)

17 
	#my_¿ndom
 
¿ndom


	)

19 şas 
	cRªdomNumG’


21 
	mpublic
:

22 
	$RªdomNumG’
(è{ 
	`my_¤ªdom
(
	`g‘pid
()); }

23 
	$RªdomNumG’
(
£ed
è{ 
	`my_¤ªdom
(£ed); 
	}
}

24 cÚ¡ 
	$İ”©Ü
(è(cÚ¡ 
¿nge
) const {

25  (
¿nge
 * ((
	`my_¿ndom
()è/ 
INT_MAX
));

26 
	}
}

	@src/util/util.cpp

8 
	~<sys/ty³s.h
>

9 
	~<dœ’t.h
>

10 
	~<”ºo.h
>

11 
	~<veùÜ
>

12 
	~<¡ršg
>

13 
	~<c¡ršg
>

14 
	~<io¡»am
>

15 
	~<iomª
>

16 
	~<®gÜ™hm
>

17 
	~"ºG’.h
"

18 
	~"myU§ge.h
"

20 
usšg
 
Çme¥aû
 
	g¡d
;

26 
RªdomNumG’
 
ºG’
(0);

27 
MyU§ge
 
	gmyU§ge
;

37 
	gli¡Dœ


38 (
	gveùÜ
<
	g¡ršg
>& 
	gfes
, cÚ¡ sŒšg& 
	g´efix
, cÚ¡ sŒšg& 
	gdœ
 = ".")

40 
DIR
 *
dp
;

41 
dœ’t
 *
	gdœp
;

42 ià((
	gdp
 = 
İ’dœ
(
dœ
.
c_¡r
())è=ğ
NULL
) {

43 
û¼
 << "E¼Ü(" << 
”ºo
 << "): faedØİ’ " << 
dœ
 << "!!\n";

44  
	g”ºo
;

47 cÚ¡ *
	gµ
 = 
´efix
.
size
()?…»fix.
c_¡r
(): 0;

48 (
	gdœp
 = 
»addœ
(
dp
)è!ğ
NULL
) {

49 ià(
¡ršg
(
dœp
->
d_Çme
) == "." ||

50 
¡ršg
(
dœp
->
d_Çme
) == "..") ;

51 ià(!
	gµ
 || 
¡ºcmp
(
dœp
->
d_Çme
, 
µ
, 
´efix
.
size
()) == 0)

52 
fes
.
push_back
(
¡ršg
(
dœp
->
d_Çme
));

54 
sÜt
(
fes
.
begš
(), fes.
’d
());

55 
şo£dœ
(
dp
);

59 
size_t
 
	$g‘HashSize
(
size_t
 
s
) {

60 ià(
s
 < 8)  7;

61 ià(
s
 < 16)  13;

62 ià(
s
 < 32)  31;

63 ià(
s
 < 64)  61;

64 ià(
s
 < 128)  127;

65 ià(
s
 < 512)  509;

66 ià(
s
 < 2048)  1499;

67 ià(
s
 < 8192)  4999;

68 ià(
s
 < 32768)  13999;

69 ià(
s
 < 131072)  59999;

70 ià(
s
 < 524288)  100019;

71 ià(
s
 < 2097152)  300007;

72 ià(
s
 < 8388608)  900001;

73 ià(
s
 < 33554432)  1000003;

74 ià(
s
 < 134217728)  3000017;

75 ià(
s
 < 536870912)  5000011;

77 
	}
}

	@src/util/util.h

8 #iâdeà
UTIL_H


9 
	#UTIL_H


	)

11 
	~<i¡»am
>

12 
	~<veùÜ
>

13 
	~"ºG’.h
"

14 
	~"myU§ge.h
"

16 
usšg
 
Çme¥aû
 
	g¡d
;

19 
RªdomNumG’
 
ºG’
;

20 
MyU§ge
 
myU§ge
;

23 
mySŒNCmp
(cÚ¡ 
¡ršg
& 
s1
, cÚ¡ sŒšg& 
s2
, 
n
);

24 
size_t
 
mySŒG‘Tok
(cÚ¡ 
¡ršg
& 
¡r
, sŒšg& 
tok
, size_ˆ
pos
 = 0,

25 cÚ¡ 
d–
 = ' ');

26 
boŞ
 
mySŒ2IÁ
(cÚ¡ 
¡ršg
& 
¡r
, & 
num
);

27 
boŞ
 
isV®idV¬Name
(cÚ¡ 
¡ršg
& 
¡r
);

30 
myG‘Ch¬
(
i¡»am
&);

31 
myG‘Ch¬
();

34 
li¡Dœ
(
veùÜ
<
¡ršg
>&, const string&, const string&);

35 
size_t
 
g‘HashSize
(size_ˆ
s
);

38 
	g‹m¶©e
<
şass
 
	gT
>

39 
	$ş—rLi¡
(
T
& 
l
)

41 
T
 
tmp
;

42 
l
.
	`sw­
(
tmp
);

43 
	}
}

45 
	g‹m¶©e
<
şass
 
	gT
, cÏs 
	gD
>

46 
	$»moveD©a
(
T
& 
l
, cÚ¡ 
D
& 
d
)

48 
size_t
 
des
 = 0;

49 
size_t
 
i
 = 0, 
n
 = 
l
.
	`size
(); i <‚; ++i) {

50 ià(
l
[
i
] !ğ
d
) {

51 ià(
i
 !ğ
des
è
l
[des] =†[i];

52 ++
des
;

56 
l
.
	`»size
(
des
);

57 
	}
}

	@
1
.
0
14
265
src/cmd/cmdCharDef.h
src/cmd/cmdParser.h
src/main/main.cpp
src/mem/memCmd.cpp
src/mem/memCmd.h
src/mem/memMgr.h
src/mem/memTest.cpp
src/mem/memTest.h
src/util/myGetChar.cpp
src/util/myString.cpp
src/util/myUsage.h
src/util/rnGen.h
src/util/util.cpp
src/util/util.h
